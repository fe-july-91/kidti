{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import cn from\"classnames\";import Slider from\"react-input-slider\";import\"./CardEyes.scss\";import{eye,sliderWidth}from\"../../Utils/kit\";import{EyesChart}from\"../../Charts/EyesChart/EyesChart\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const CardEyes=_ref=>{let{data}=_ref;const[activeParametrs,setActiveParametrs]=useState(data);const[activeSlider,setActiveSlider]=useState(false);const[leftSliderValue,setLeftSliderValue]=useState({x:data.left});const[rightSliderValue,setRightSliderValue]=useState({x:data.right});useEffect(()=>{setActiveParametrs(data);},[data]);// const reset = () => {\n//   setLeftSliderValue({ x: 0 });\n//   setRightSliderValue({ x: 0 });\n// };\nconst saveData=e=>{if(e){e.preventDefault();}const newParametrs={left:leftSliderValue.x,right:rightSliderValue.x};setActiveParametrs(newParametrs);};const handleEditClick=()=>{setActiveSlider(true);if(activeParametrs){setLeftSliderValue({x:activeParametrs.left});setRightSliderValue({x:activeParametrs.right});}};const handleCanсelClick=()=>{setActiveSlider(false);if(activeParametrs){setLeftSliderValue({x:activeParametrs.left});setRightSliderValue({x:activeParametrs.right});}};const handleApplyClick=e=>{setActiveSlider(false);saveData(e);};return/*#__PURE__*/_jsxs(\"div\",{className:\"eyes__item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"eyes__item-top\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"eyes__item-top-leftBlock\",children:[/*#__PURE__*/_jsx(\"img\",{src:eye,alt:\"eye\",className:\"eyes__item-image\"}),/*#__PURE__*/_jsx(\"p\",{className:\"eyes__item-title\",children:\"\\u0417i\\u0440\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"eyes__item-edit\",children:!activeSlider?/*#__PURE__*/_jsxs(\"button\",{className:\"card__item__button card__item__button-big edit-button\",onClick:handleEditClick,children:[\" \",\"\\u0420\\u0435\\u0434\\u0430\\u0433\\u0443\\u0432\\u0430\\u0442\\u0438\"]}):/*#__PURE__*/_jsxs(\"div\",{className:\"card__item__button--container\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"card__item__button\",onClick:handleApplyClick,children:[\" \",\"\\u0422\\u0430\\u043A\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"card__item__button card__item__button--cansel\",onClick:handleCanсelClick,children:[\" \",\"\\u041D\\u0456\"]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"eyes__item__eyes\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"eyes__item-values\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"eyes__item-sign\",children:\"\\u041B\\u0456\\u0432\\u0435 \\u043E\\u043A\\u043E:\"}),/*#__PURE__*/_jsx(\"p\",{className:cn(\"eyes__item-value\",{\"eyes__item-value-activeLeft\":activeSlider}),children:activeSlider?leftSliderValue.x:activeParametrs.left})]}),activeSlider&&/*#__PURE__*/_jsx(Slider,{axis:\"x\",xmin:-10,xmax:10,x:leftSliderValue.x,onChange:_ref2=>{let{x}=_ref2;return setLeftSliderValue(state=>({...state,x}));},styles:{track:{backgroundColor:\"#ddd\",height:\"8px\",width:sliderWidth,borderRadius:\"4px\"},active:{backgroundColor:\"#50C3F9\"},thumb:{width:\"20px\",height:\"20px\",borderRadius:\"50%\",backgroundColor:\"#50C3F9\",boxShadow:\"0px 0px 4px rgba(0,0,0,0.2)\"}}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"eyes__item__eyes\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"eyes__item-values\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"eyes__item-sign\",children:\"\\u041F\\u0440\\u0430\\u0432\\u0435 \\u043E\\u043A\\u043E:\"}),/*#__PURE__*/_jsx(\"p\",{className:cn(\"eyes__item-value\",{\"eyes__item-value-active\":activeSlider}),children:activeSlider?rightSliderValue.x:activeParametrs.right})]}),activeSlider&&/*#__PURE__*/_jsx(Slider,{axis:\"x\",xmin:-10,xmax:10,x:rightSliderValue.x,onChange:_ref3=>{let{x}=_ref3;return setRightSliderValue(state=>({...state,x}));},styles:{track:{backgroundColor:\"#ddd\",height:\"8px\",width:sliderWidth,borderRadius:\"4px\"},active:{backgroundColor:\"#C88CF8\"},thumb:{width:\"20px\",height:\"20px\",borderRadius:\"50%\",backgroundColor:\"#C88CF8\",boxShadow:\"0px 0px 4px rgba(0,0,0,0.2)\"}}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"eyes__item-chart\",children:/*#__PURE__*/_jsx(EyesChart,{width:400,height:200,data:activeParametrs,sliderLeft:leftSliderValue.x,sliderRight:rightSliderValue.x})})]});};","map":{"version":3,"names":["React","useEffect","useState","cn","Slider","eye","sliderWidth","EyesChart","jsx","_jsx","jsxs","_jsxs","CardEyes","_ref","data","activeParametrs","setActiveParametrs","activeSlider","setActiveSlider","leftSliderValue","setLeftSliderValue","x","left","rightSliderValue","setRightSliderValue","right","saveData","e","preventDefault","newParametrs","handleEditClick","handleCanсelClick","handleApplyClick","className","children","src","alt","onClick","axis","xmin","xmax","onChange","_ref2","state","styles","track","backgroundColor","height","width","borderRadius","active","thumb","boxShadow","_ref3","sliderLeft","sliderRight"],"sources":["/Users/mariashmakova/Projects/personal/kidti/src/Components/CardEyes/CardEyes.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport cn from \"classnames\";\nimport Slider from \"react-input-slider\";\nimport \"./CardEyes.scss\";\nimport { Eye } from \"../../Shared/types\";\nimport { eye, sliderWidth} from \"../../Utils/kit\";\nimport { EyesChart } from \"../../Charts/EyesChart/EyesChart\";\n\ntype Props = {\n  data: Eye;\n};\n\nexport const CardEyes: React.FC<Props> = ({ data }) => {\n\n  const [activeParametrs, setActiveParametrs] = useState<Eye>(data);\n\n  const [activeSlider, setActiveSlider] = useState(false);\n  const [leftSliderValue, setLeftSliderValue] = useState({ x: data.left });\n  const [rightSliderValue, setRightSliderValue] = useState({ x: data.right });\n\n  useEffect(() => {\n    setActiveParametrs(data);\n  }, [data]);\n  \n  // const reset = () => {\n  //   setLeftSliderValue({ x: 0 });\n  //   setRightSliderValue({ x: 0 });\n  // };\n\n  const saveData = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n    if (e) {\n      e.preventDefault();\n    }\n    const newParametrs = {\n      left: leftSliderValue.x,\n      right: rightSliderValue.x\n    };\n  \n    setActiveParametrs(newParametrs);\n  };\n\n  const handleEditClick = () => {\n    setActiveSlider(true);\n    if (activeParametrs) {\n      setLeftSliderValue({ x: activeParametrs.left });\n      setRightSliderValue({ x: activeParametrs.right});\n    }\n  };\n  const handleCanсelClick = () => {\n    setActiveSlider(false);\n    if (activeParametrs) {\n      setLeftSliderValue({ x: activeParametrs.left });\n      setRightSliderValue({ x: activeParametrs.right});\n    }\n  };\n\n  const handleApplyClick = (\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>\n  ) => {\n    setActiveSlider(false);\n    saveData(e);\n  };\n\n  return (\n    <div className=\"eyes__item\">\n      <div className=\"eyes__item-top\">\n        <div className=\"eyes__item-top-leftBlock\">\n          <img src={eye} alt=\"eye\" className=\"eyes__item-image\"/>\n          <p className=\"eyes__item-title\">Зiр</p>\n        </div>\n\n\n        <div className=\"eyes__item-edit\">\n          {!activeSlider ? (\n            <button className=\"card__item__button card__item__button-big edit-button\" onClick={handleEditClick}>\n              {\" \"}\n              Редагувати\n            </button>\n          ) : (\n            <div className=\"card__item__button--container\">\n              <button className=\"card__item__button\" onClick={handleApplyClick}>\n                {\" \"}\n                Так\n              </button>\n\n              <button\n                className=\"card__item__button card__item__button--cansel\"\n                onClick={handleCanсelClick}\n              >\n                {\" \"}\n                Ні\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div className=\"eyes__item__eyes\">\n        <div className=\"eyes__item-values\">\n        <p className=\"eyes__item-sign\">Ліве око:</p>\n        <p\n          className={cn(\"eyes__item-value\", {\n            \"eyes__item-value-activeLeft\": activeSlider,\n          })}\n        >\n          {activeSlider\n            ? leftSliderValue.x\n              : activeParametrs.left\n            }\n        </p>\n        </div>\n\n        {activeSlider && (\n        <Slider\n          axis=\"x\"\n          xmin={-10}\n          xmax={10}\n          x={leftSliderValue.x}\n          onChange={({ x }) => setLeftSliderValue((state) => ({ ...state, x }))}\n          styles={{\n            track: {\n              backgroundColor: \"#ddd\",\n              height: \"8px\",\n              width: sliderWidth,\n              borderRadius: \"4px\",\n            },\n            active: {\n              backgroundColor: \"#50C3F9\",\n            },\n            thumb: {\n              width: \"20px\",\n              height: \"20px\",\n              borderRadius: \"50%\",\n              backgroundColor: \"#50C3F9\",\n              boxShadow: \"0px 0px 4px rgba(0,0,0,0.2)\",\n            },\n          }}\n          />\n        )}\n      </div>\n\n      <div className=\"eyes__item__eyes\">\n        <div className=\"eyes__item-values\">\n          <p className=\"eyes__item-sign\">Праве око:</p>\n          <p\n            className={cn(\"eyes__item-value\", {\n              \"eyes__item-value-active\": activeSlider,\n            })}\n          >\n            {activeSlider\n              ? rightSliderValue.x\n              : activeParametrs.right\n            }\n          </p>\n        </div>\n\n        {activeSlider && (\n        <Slider\n          axis=\"x\"\n          xmin={-10}\n          xmax={10}\n          x={rightSliderValue.x}\n          onChange={({ x }) => setRightSliderValue((state) => ({ ...state, x }))}\n          styles={{\n            track: {\n              backgroundColor: \"#ddd\",\n              height: \"8px\",\n              width: sliderWidth,\n              borderRadius: \"4px\",\n            },\n            active: {\n              backgroundColor: \"#C88CF8\",\n            },\n            thumb: {\n              width: \"20px\",\n              height: \"20px\",\n              borderRadius: \"50%\",\n              backgroundColor: \"#C88CF8\",\n              boxShadow: \"0px 0px 4px rgba(0,0,0,0.2)\",\n            },\n          }}\n          />\n        )}\n      </div>\n\n      <div className=\"eyes__item-chart\">\n        <EyesChart\n          width={400}\n          height={200}\n          data={activeParametrs}\n          sliderLeft={leftSliderValue.x}\n          sliderRight={rightSliderValue.x}\n        />\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}